{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import{Link}from'react-router-dom';import axios from'axios';import'./CategoryList.css';import{subcategoriesData}from'./CategorySubcategories';// Images for the hero carousel\nimport news1 from'../img/news1.avif';import news2 from'../img/news2.avif';import news3 from'../img/news3.avif';import news4 from'../img/news4.avif';import news5 from'../img/news5.avif';import news6 from'../img/news6.avif';import news7 from'../img/news7.avif';import news8 from'../img/news8.avif';import news9 from'../img/news9.avif';import news10 from'../img/news10.avif';// Company logos\nimport evaLogo from'../img/logo_eva.svg';import prostorLogo from'../img/logo_prostor.png';import watsonsLogo from'../img/logo_watsons.jpg';import rozetkaLogo from'../img/logo_rozetka.png';import makeupLogo from'../img/logo_makeup.png';import parfumsLogo from'../img/logo_parfums.png';import auchanLogo from'../img/logo_auchan.png';import silpoLogo from'../img/logo_silpo.svg';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const carouselImages=[{src:news1,alt:'Шампуні - Акція'},{src:news2,alt:'Креми - Новинки'},{src:news3,alt:'Маски - Акція'},{src:news4,alt:'Мило - Новинки'},{src:news5,alt:'Скраби - Акція'},{src:news6,alt:'Скраби - Акція'},{src:news7,alt:'Скраби - Акція'},{src:news8,alt:'Скраби - Акція'},{src:news9,alt:'Скраби - Акція'},{src:news10,alt:'Скраби - Акція'}];// Define the companies\nconst companies=[{name:'EVA',logo:evaLogo},{name:'Prostor',logo:prostorLogo},{name:'Watsons',logo:watsonsLogo},{name:'Rozetka',logo:rozetkaLogo},{name:'Makeup',logo:makeupLogo},{name:'Parfums',logo:parfumsLogo},{name:'Auchan',logo:auchanLogo},{name:'Silpo',logo:silpoLogo}];// Create an extended array for infinite scrolling\nconst SLIDE_WIDTH=159;// Static width of one slide in pixels (955px / 6 ≈ 159px)\nconst EXTEND_FACTOR=3;// Repeat the companies array 3 times for smooth infinite scrolling\nconst extendedCompanies=Array(EXTEND_FACTOR).fill(companies).flat();// Групи для бічної панелі\nconst groups=[{id:'makeup',name:'Макіяж'},{id:'face',name:'Обличчя'},{id:'hair',name:'Волосся'},{id:'body',name:'Тіло'},{id:'dermocosmetics',name:'Дерматокосметика'},{id:'professional',name:'Професійна косметика'},{id:'perfumery',name:'Парфумерія'}];function CategoryList(){var _subcategoriesData$ac;const[currentSlide,setCurrentSlide]=useState(0);const[currentProductSlide,setCurrentProductSlide]=useState(0);const[currentCompanySlide,setCurrentCompanySlide]=useState(0);const[activeGroup,setActiveGroup]=useState(null);const[isHeroTransitioning,setIsHeroTransitioning]=useState(true);const[isProductTransitioning,setIsProductTransitioning]=useState(true);const[isCompanyTransitioning,setIsCompanyTransitioning]=useState(true);const[recommendedProducts,setRecommendedProducts]=useState([]);const[isLoading,setIsLoading]=useState(true);const[isFadingOut,setIsFadingOut]=useState(false);const[error,setError]=useState(null);const carouselIntervalRef=useRef(null);const productIntervalRef=useRef(null);const totalHeroSlides=carouselImages.length;const totalProductSlides=recommendedProducts.length;// Завантаження рекомендованих продуктів з API\nuseEffect(()=>{const fetchRecommendedProducts=async()=>{setIsLoading(true);setIsFadingOut(false);setError(null);try{const response=await axios.get('http://localhost:5000/products',{params:{limit:6,hasRating:true,random:true}});console.log('Recommended Products API Response:',response.data);// Дебагування\nsetRecommendedProducts(response.data.products);}catch(err){console.error('Помилка завантаження рекомендованих продуктів:',err);setError('Не вдалося завантажити рекомендовані продукти.');}finally{setTimeout(()=>{setIsFadingOut(true);setTimeout(()=>{setIsLoading(false);},300);// Match the fadeOutOverlay animation duration\n},0);}};fetchRecommendedProducts();},[]);// Function to start or reset the hero carousel timer\nconst startCarouselTimer=useCallback(()=>{if(carouselIntervalRef.current){clearInterval(carouselIntervalRef.current);}carouselIntervalRef.current=setInterval(()=>{setCurrentSlide(prev=>{const nextSlide=prev+1;if(prev>=totalHeroSlides-1){setTimeout(()=>{setIsHeroTransitioning(false);setCurrentSlide(0);setTimeout(()=>setIsHeroTransitioning(true),50);},500);return 0;}return nextSlide;});},4000);},[totalHeroSlides]);// Function to start or reset the product carousel timer\nconst startProductTimer=useCallback(()=>{if(productIntervalRef.current){clearInterval(productIntervalRef.current);}productIntervalRef.current=setInterval(()=>{setCurrentProductSlide(prev=>{const nextSlide=prev+1;if(prev>=totalProductSlides-1){setTimeout(()=>{setIsProductTransitioning(false);setCurrentProductSlide(0);setTimeout(()=>setIsProductTransitioning(true),50);},500);return 0;}return nextSlide;});},4000);},[totalProductSlides]);// Start timers on mount\nuseEffect(()=>{startCarouselTimer();startProductTimer();return()=>{clearInterval(carouselIntervalRef.current);clearInterval(productIntervalRef.current);};},[startCarouselTimer,startProductTimer]);// Handle manual navigation for hero carousel and reset timer\nconst goToSlide=index=>{setIsHeroTransitioning(true);setCurrentSlide(index);startCarouselTimer();};// Handle manual navigation for product carousel and reset timer\nconst goToProductSlide=index=>{setIsProductTransitioning(true);setCurrentProductSlide(index);startProductTimer();};// Handle navigation for companies carousel (infinite scrolling)\nconst goToNextCompanySlide=()=>{setIsCompanyTransitioning(true);setCurrentCompanySlide(prev=>{const nextSlide=prev+1;// When reaching the middle set of companies, reset to the first set without animation\nif(nextSlide===companies.length){setTimeout(()=>{setIsCompanyTransitioning(false);setCurrentCompanySlide(0);setTimeout(()=>setIsCompanyTransitioning(true),50);},500);}return nextSlide;});};const goToPrevCompanySlide=()=>{setIsCompanyTransitioning(true);setCurrentCompanySlide(prev=>{const prevSlide=prev-1;// When reaching the start, jump to the last set without animation\nif(prevSlide<0){const lastPosition=companies.length-1;setTimeout(()=>{setIsCompanyTransitioning(false);setCurrentCompanySlide(lastPosition);setTimeout(()=>setIsCompanyTransitioning(true),50);},500);return lastPosition;}return prevSlide;});};// Handle mouse enter to show dropdown\nconst handleMouseEnter=groupId=>{setActiveGroup(groupId);};// Handle mouse leave to close dropdown\nconst handleMouseLeave=()=>{setActiveGroup(null);};// Function to render star rating\nconst renderStars=rating=>{const stars=[];for(let i=0;i<5;i++){stars.push(/*#__PURE__*/_jsx(\"span\",{className:i<Math.round(rating)?'star filled':'star',children:\"\\u2605\"},i));}return stars;};// Get product price (minimum from store_prices)\nconst getProductPrice=storePrices=>{if(!storePrices||storePrices.length===0)return'Н/Д';return Math.min(...storePrices.map(sp=>sp.price));};// Create extended arrays for hero and products carousels\nconst extendedHeroImages=[...carouselImages,...carouselImages.slice(0,1)];const extendedProducts=[...recommendedProducts,...recommendedProducts.slice(0,1)];// Відображення спінера або помилки\nif(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:`loading-overlay ${isFadingOut?'fade-out':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"spinner-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error});}return/*#__PURE__*/_jsx(\"div\",{className:\"category-list\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"categories-container\",onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"div\",{className:\"categories-sidebar\",children:groups.map(group=>/*#__PURE__*/_jsx(\"div\",{className:\"category-group\",onMouseEnter:()=>handleMouseEnter(group.id),children:/*#__PURE__*/_jsx(Link,{to:`/subcategories/${group.id}`,className:\"group-name-wrapper\",children:/*#__PURE__*/_jsx(\"span\",{className:\"group-name\",children:group.name})})},group.id))}),activeGroup&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown active\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[(_subcategoriesData$ac=subcategoriesData[activeGroup])===null||_subcategoriesData$ac===void 0?void 0:_subcategoriesData$ac.map((subcategory,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"subcategory-group\",children:[/*#__PURE__*/_jsx(Link,{to:`/category/${subcategory.categoryId}`,className:\"subcategory-title\",children:subcategory.category}),/*#__PURE__*/_jsx(\"ul\",{className:\"subcategory-list\",children:subcategory.items.map(item=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/category/${subcategory.categoryId}${item.type?`?type=${encodeURIComponent(item.type)}`:''}`,className:\"subcategory-link\",children:item.name})},item.id))})]},index)),/*#__PURE__*/_jsx(\"div\",{className:\"subcategory-group\",children:/*#__PURE__*/_jsx(Link,{to:`/subcategories/${activeGroup}`,className:\"subcategory-title all-categories\",children:\"\\u0423\\u0441\\u0456 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0456\\u0457\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hero-carousel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:`carousel-inner ${!isHeroTransitioning?'no-transition':''}`,style:{transform:` parents: translateX(-${currentSlide*100}%)`},children:extendedHeroImages.map((image,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"carousel-slide\",children:/*#__PURE__*/_jsx(\"img\",{src:image.src,alt:image.alt,className:\"carousel-image\"})},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-dots\",children:carouselImages.map((_,index)=>/*#__PURE__*/_jsx(\"span\",{className:`dot ${index===currentSlide%totalHeroSlides?'active':''}`,onClick:()=>goToSlide(index)},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"companies-carousel\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"companies-header\",children:\"\\u041A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0456\\u0457, \\u0437 \\u044F\\u043A\\u0438\\u043C\\u0438 \\u043C\\u0438 \\u043F\\u0440\\u0430\\u0446\\u044E\\u0454\\u043C\\u043E\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"companies-wrapper\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"companies-nav prev\",onClick:goToPrevCompanySlide,children:/*#__PURE__*/_jsx(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M15 18L9 12L15 6\",stroke:\"#333\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"companies-viewport\",children:/*#__PURE__*/_jsx(\"div\",{className:`companies-inner ${!isCompanyTransitioning?'no-transition':''}`,style:{transform:`translateX(-${currentCompanySlide*SLIDE_WIDTH}px)`},children:extendedCompanies.map((company,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"company-slide\",children:/*#__PURE__*/_jsx(\"img\",{src:company.logo,alt:company.name,className:\"company-logo\"})},`${company.name}-${index}`))})}),/*#__PURE__*/_jsx(\"button\",{className:\"companies-nav next\",onClick:goToNextCompanySlide,children:/*#__PURE__*/_jsx(\"svg\",{width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9 18L15 12L9 6\",stroke:\"#333\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\"})})})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommended-products\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"recommended-header\",children:\"\\u0420\\u0435\\u043A\\u043E\\u043C\\u0435\\u043D\\u0434\\u0430\\u0446\\u0456\\u0457\"}),/*#__PURE__*/_jsx(\"div\",{className:\"recommended-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:`recommended-inner ${!isProductTransitioning?'no-transition':''}`,style:{transform:`translateX(-${currentProductSlide*100}%)`},children:extendedProducts.map((product,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"recommended-slide\",children:[/*#__PURE__*/_jsx(Link,{to:`/product/${product.id}`,children:/*#__PURE__*/_jsx(\"img\",{src:product.images[0]||'/img/placeholder.webp',alt:product.name,className:\"recommended-image\",onError:e=>{console.log(`Помилка завантаження зображення: ${product.images[0]}`);e.target.src='/img/placeholder.webp';}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommended-details\",children:[/*#__PURE__*/_jsx(Link,{to:`/product/${product.id}`,className:\"recommended-link\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"recommended-name\",children:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommended-rating\",children:[renderStars(product.rating||0),/*#__PURE__*/_jsxs(\"span\",{className:\"recommended-reviews\",children:[\"(\",product.views||0,\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"recommended-pricing\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"recommended-original-price\",children:[getProductPrice(product.store_prices),\" \\u0433\\u0440\\u043D\"]})}),/*#__PURE__*/_jsx(Link,{to:`/product/${product.id}`,children:/*#__PURE__*/_jsx(\"button\",{className:\"recommended-add-to-cart\",children:\"\\u041F\\u0435\\u0440\\u0435\\u0433\\u043B\\u044F\\u043D\\u0443\\u0442\\u0438 \\u0442\\u043E\\u0432\\u0430\\u0440\"})})]})]},index))})}),/*#__PURE__*/_jsx(\"div\",{className:\"recommended-dots\",children:recommendedProducts.map((_,index)=>/*#__PURE__*/_jsx(\"span\",{className:`dot ${index===currentProductSlide%totalProductSlides?'active':''}`,onClick:()=>goToProductSlide(index)},index))})]})]})});}export default CategoryList;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Link","axios","subcategoriesData","news1","news2","news3","news4","news5","news6","news7","news8","news9","news10","evaLogo","prostorLogo","watsonsLogo","rozetkaLogo","makeupLogo","parfumsLogo","auchanLogo","silpoLogo","jsx","_jsx","jsxs","_jsxs","carouselImages","src","alt","companies","name","logo","SLIDE_WIDTH","EXTEND_FACTOR","extendedCompanies","Array","fill","flat","groups","id","CategoryList","_subcategoriesData$ac","currentSlide","setCurrentSlide","currentProductSlide","setCurrentProductSlide","currentCompanySlide","setCurrentCompanySlide","activeGroup","setActiveGroup","isHeroTransitioning","setIsHeroTransitioning","isProductTransitioning","setIsProductTransitioning","isCompanyTransitioning","setIsCompanyTransitioning","recommendedProducts","setRecommendedProducts","isLoading","setIsLoading","isFadingOut","setIsFadingOut","error","setError","carouselIntervalRef","productIntervalRef","totalHeroSlides","length","totalProductSlides","fetchRecommendedProducts","response","get","params","limit","hasRating","random","console","log","data","products","err","setTimeout","startCarouselTimer","current","clearInterval","setInterval","prev","nextSlide","startProductTimer","goToSlide","index","goToProductSlide","goToNextCompanySlide","goToPrevCompanySlide","prevSlide","lastPosition","handleMouseEnter","groupId","handleMouseLeave","renderStars","rating","stars","i","push","className","Math","round","children","getProductPrice","storePrices","min","map","sp","price","extendedHeroImages","slice","extendedProducts","onMouseLeave","group","onMouseEnter","to","subcategory","categoryId","category","items","item","type","encodeURIComponent","style","transform","image","_","onClick","width","height","viewBox","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","company","product","images","onError","e","target","views","store_prices"],"sources":["C:/Users/pushy/Documents/GitHub/price-ua-react/src/components/CategoryList.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './CategoryList.css';\r\nimport { subcategoriesData } from './CategorySubcategories';\r\n\r\n// Images for the hero carousel\r\nimport news1 from '../img/news1.avif';\r\nimport news2 from '../img/news2.avif';\r\nimport news3 from '../img/news3.avif';\r\nimport news4 from '../img/news4.avif';\r\nimport news5 from '../img/news5.avif';\r\nimport news6 from '../img/news6.avif';\r\nimport news7 from '../img/news7.avif';\r\nimport news8 from '../img/news8.avif';\r\nimport news9 from '../img/news9.avif';\r\nimport news10 from '../img/news10.avif';\r\n\r\n// Company logos\r\nimport evaLogo from '../img/logo_eva.svg';\r\nimport prostorLogo from '../img/logo_prostor.png';\r\nimport watsonsLogo from '../img/logo_watsons.jpg';\r\nimport rozetkaLogo from '../img/logo_rozetka.png';\r\nimport makeupLogo from '../img/logo_makeup.png';\r\nimport parfumsLogo from '../img/logo_parfums.png';\r\nimport auchanLogo from '../img/logo_auchan.png';\r\nimport silpoLogo from '../img/logo_silpo.svg';\r\n\r\nconst carouselImages = [\r\n  { src: news1, alt: 'Шампуні - Акція' },\r\n  { src: news2, alt: 'Креми - Новинки' },\r\n  { src: news3, alt: 'Маски - Акція' },\r\n  { src: news4, alt: 'Мило - Новинки' },\r\n  { src: news5, alt: 'Скраби - Акція' },\r\n  { src: news6, alt: 'Скраби - Акція' },\r\n  { src: news7, alt: 'Скраби - Акція' },\r\n  { src: news8, alt: 'Скраби - Акція' },\r\n  { src: news9, alt: 'Скраби - Акція' },\r\n  { src: news10, alt: 'Скраби - Акція' },\r\n];\r\n\r\n// Define the companies\r\nconst companies = [\r\n  { name: 'EVA', logo: evaLogo },\r\n  { name: 'Prostor', logo: prostorLogo },\r\n  { name: 'Watsons', logo: watsonsLogo },\r\n  { name: 'Rozetka', logo: rozetkaLogo },\r\n  { name: 'Makeup', logo: makeupLogo },\r\n  { name: 'Parfums', logo: parfumsLogo },\r\n  { name: 'Auchan', logo: auchanLogo },\r\n  { name: 'Silpo', logo: silpoLogo },\r\n];\r\n\r\n// Create an extended array for infinite scrolling\r\nconst SLIDE_WIDTH = 159; // Static width of one slide in pixels (955px / 6 ≈ 159px)\r\nconst EXTEND_FACTOR = 3; // Repeat the companies array 3 times for smooth infinite scrolling\r\nconst extendedCompanies = Array(EXTEND_FACTOR).fill(companies).flat();\r\n\r\n// Групи для бічної панелі\r\nconst groups = [\r\n  { id: 'makeup', name: 'Макіяж' },\r\n  { id: 'face', name: 'Обличчя' },\r\n  { id: 'hair', name: 'Волосся' },\r\n  { id: 'body', name: 'Тіло' },\r\n  { id: 'dermocosmetics', name: 'Дерматокосметика' },\r\n  { id: 'professional', name: 'Професійна косметика' },\r\n  { id: 'perfumery', name: 'Парфумерія' },\r\n];\r\n\r\nfunction CategoryList() {\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n  const [currentProductSlide, setCurrentProductSlide] = useState(0);\r\n  const [currentCompanySlide, setCurrentCompanySlide] = useState(0);\r\n  const [activeGroup, setActiveGroup] = useState(null);\r\n  const [isHeroTransitioning, setIsHeroTransitioning] = useState(true);\r\n  const [isProductTransitioning, setIsProductTransitioning] = useState(true);\r\n  const [isCompanyTransitioning, setIsCompanyTransitioning] = useState(true);\r\n  const [recommendedProducts, setRecommendedProducts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isFadingOut, setIsFadingOut] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const carouselIntervalRef = useRef(null);\r\n  const productIntervalRef = useRef(null);\r\n  const totalHeroSlides = carouselImages.length;\r\n  const totalProductSlides = recommendedProducts.length;\r\n\r\n  // Завантаження рекомендованих продуктів з API\r\n  useEffect(() => {\r\n    const fetchRecommendedProducts = async () => {\r\n      setIsLoading(true);\r\n      setIsFadingOut(false);\r\n      setError(null);\r\n      try {\r\n        const response = await axios.get('http://localhost:5000/products', {\r\n          params: {\r\n            limit: 6,\r\n            hasRating: true,\r\n            random: true\r\n          }\r\n        });\r\n        console.log('Recommended Products API Response:', response.data); // Дебагування\r\n        setRecommendedProducts(response.data.products);\r\n      } catch (err) {\r\n        console.error('Помилка завантаження рекомендованих продуктів:', err);\r\n        setError('Не вдалося завантажити рекомендовані продукти.');\r\n      } finally {\r\n        setTimeout(() => {\r\n          setIsFadingOut(true);\r\n          setTimeout(() => {\r\n            setIsLoading(false);\r\n          }, 300); // Match the fadeOutOverlay animation duration\r\n        }, 0);\r\n      }\r\n    };\r\n\r\n    fetchRecommendedProducts();\r\n  }, []);\r\n\r\n  // Function to start or reset the hero carousel timer\r\n  const startCarouselTimer = useCallback(() => {\r\n    if (carouselIntervalRef.current) {\r\n      clearInterval(carouselIntervalRef.current);\r\n    }\r\n    carouselIntervalRef.current = setInterval(() => {\r\n      setCurrentSlide((prev) => {\r\n        const nextSlide = prev + 1;\r\n        if (prev >= totalHeroSlides - 1) {\r\n          setTimeout(() => {\r\n            setIsHeroTransitioning(false);\r\n            setCurrentSlide(0);\r\n            setTimeout(() => setIsHeroTransitioning(true), 50);\r\n          }, 500);\r\n          return 0;\r\n        }\r\n        return nextSlide;\r\n      });\r\n    }, 4000);\r\n  }, [totalHeroSlides]);\r\n\r\n  // Function to start or reset the product carousel timer\r\n  const startProductTimer = useCallback(() => {\r\n    if (productIntervalRef.current) {\r\n      clearInterval(productIntervalRef.current);\r\n    }\r\n    productIntervalRef.current = setInterval(() => {\r\n      setCurrentProductSlide((prev) => {\r\n        const nextSlide = prev + 1;\r\n        if (prev >= totalProductSlides - 1) {\r\n          setTimeout(() => {\r\n            setIsProductTransitioning(false);\r\n            setCurrentProductSlide(0);\r\n            setTimeout(() => setIsProductTransitioning(true), 50);\r\n          }, 500);\r\n          return 0;\r\n        }\r\n        return nextSlide;\r\n      });\r\n    }, 4000);\r\n  }, [totalProductSlides]);\r\n\r\n  // Start timers on mount\r\n  useEffect(() => {\r\n    startCarouselTimer();\r\n    startProductTimer();\r\n    return () => {\r\n      clearInterval(carouselIntervalRef.current);\r\n      clearInterval(productIntervalRef.current);\r\n    };\r\n  }, [startCarouselTimer, startProductTimer]);\r\n\r\n  // Handle manual navigation for hero carousel and reset timer\r\n  const goToSlide = (index) => {\r\n    setIsHeroTransitioning(true);\r\n    setCurrentSlide(index);\r\n    startCarouselTimer();\r\n  };\r\n\r\n  // Handle manual navigation for product carousel and reset timer\r\n  const goToProductSlide = (index) => {\r\n    setIsProductTransitioning(true);\r\n    setCurrentProductSlide(index);\r\n    startProductTimer();\r\n  };\r\n\r\n  // Handle navigation for companies carousel (infinite scrolling)\r\n  const goToNextCompanySlide = () => {\r\n    setIsCompanyTransitioning(true);\r\n    setCurrentCompanySlide((prev) => {\r\n      const nextSlide = prev + 1;\r\n      // When reaching the middle set of companies, reset to the first set without animation\r\n      if (nextSlide === companies.length) {\r\n        setTimeout(() => {\r\n          setIsCompanyTransitioning(false);\r\n          setCurrentCompanySlide(0);\r\n          setTimeout(() => setIsCompanyTransitioning(true), 50);\r\n        }, 500);\r\n      }\r\n      return nextSlide;\r\n    });\r\n  };\r\n\r\n  const goToPrevCompanySlide = () => {\r\n    setIsCompanyTransitioning(true);\r\n    setCurrentCompanySlide((prev) => {\r\n      const prevSlide = prev - 1;\r\n      // When reaching the start, jump to the last set without animation\r\n      if (prevSlide < 0) {\r\n        const lastPosition = companies.length - 1;\r\n        setTimeout(() => {\r\n          setIsCompanyTransitioning(false);\r\n          setCurrentCompanySlide(lastPosition);\r\n          setTimeout(() => setIsCompanyTransitioning(true), 50);\r\n        }, 500);\r\n        return lastPosition;\r\n      }\r\n      return prevSlide;\r\n    });\r\n  };\r\n\r\n  // Handle mouse enter to show dropdown\r\n  const handleMouseEnter = (groupId) => {\r\n    setActiveGroup(groupId);\r\n  };\r\n\r\n  // Handle mouse leave to close dropdown\r\n  const handleMouseLeave = () => {\r\n    setActiveGroup(null);\r\n  };\r\n\r\n  // Function to render star rating\r\n  const renderStars = (rating) => {\r\n    const stars = [];\r\n    for (let i = 0; i < 5; i++) {\r\n      stars.push(\r\n        <span key={i} className={i < Math.round(rating) ? 'star filled' : 'star'}>\r\n          ★\r\n        </span>\r\n      );\r\n    }\r\n    return stars;\r\n  };\r\n\r\n  // Get product price (minimum from store_prices)\r\n  const getProductPrice = (storePrices) => {\r\n    if (!storePrices || storePrices.length === 0) return 'Н/Д';\r\n    return Math.min(...storePrices.map(sp => sp.price));\r\n  };\r\n\r\n  // Create extended arrays for hero and products carousels\r\n  const extendedHeroImages = [...carouselImages, ...carouselImages.slice(0, 1)];\r\n  const extendedProducts = [...recommendedProducts, ...recommendedProducts.slice(0, 1)];\r\n\r\n  // Відображення спінера або помилки\r\n  if (isLoading) {\r\n    return (\r\n      <div className={`loading-overlay ${isFadingOut ? 'fade-out' : ''}`}>\r\n        <div className=\"spinner-container\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Завантаження...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"error\">{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"category-list\">\r\n      <div className=\"main-content\">\r\n        <div\r\n          className=\"categories-container\"\r\n          onMouseLeave={handleMouseLeave}\r\n        >\r\n          <div className=\"categories-sidebar\">\r\n            {groups.map(group => (\r\n              <div\r\n                key={group.id}\r\n                className=\"category-group\"\r\n                onMouseEnter={() => handleMouseEnter(group.id)}\r\n              >\r\n                <Link\r\n                  to={`/subcategories/${group.id}`}\r\n                  className=\"group-name-wrapper\"\r\n                >\r\n                  <span className=\"group-name\">{group.name}</span>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          {activeGroup && (\r\n            <div className=\"dropdown active\">\r\n              <div className=\"dropdown-content\">\r\n                {subcategoriesData[activeGroup]?.map((subcategory, index) => (\r\n                  <div key={index} className=\"subcategory-group\">\r\n                    <Link\r\n                      to={`/category/${subcategory.categoryId}`}\r\n                      className=\"subcategory-title\"\r\n                    >\r\n                      {subcategory.category}\r\n                    </Link>\r\n                    <ul className=\"subcategory-list\">\r\n                      {subcategory.items.map(item => (\r\n                        <li key={item.id}>\r\n                          <Link\r\n                            to={`/category/${subcategory.categoryId}${item.type ? `?type=${encodeURIComponent(item.type)}` : ''}`}\r\n                            className=\"subcategory-link\"\r\n                          >\r\n                            {item.name}\r\n                          </Link>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                ))}\r\n                <div className=\"subcategory-group\">\r\n                  <Link\r\n                    to={`/subcategories/${activeGroup}`}\r\n                    className=\"subcategory-title all-categories\"\r\n                  >\r\n                    Усі категорії\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"hero-carousel\">\r\n          <div className=\"carousel-wrapper\">\r\n            <div\r\n              className={`carousel-inner ${!isHeroTransitioning ? 'no-transition' : ''}`}\r\n              style={{ transform: ` parents: translateX(-${currentSlide * 100}%)` }}\r\n            >\r\n              {extendedHeroImages.map((image, index) => (\r\n                <div key={index} className=\"carousel-slide\">\r\n                  <img\r\n                    src={image.src}\r\n                    alt={image.alt}\r\n                    className=\"carousel-image\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className=\"carousel-dots\">\r\n              {carouselImages.map((_, index) => (\r\n                <span\r\n                  key={index}\r\n                  className={`dot ${index === currentSlide % totalHeroSlides ? 'active' : ''}`}\r\n                  onClick={() => goToSlide(index)}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"companies-carousel\">\r\n            <h2 className=\"companies-header\">Компанії, з якими ми працюємо</h2>\r\n            <div className=\"companies-wrapper\">\r\n              <button className=\"companies-nav prev\" onClick={goToPrevCompanySlide}>\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M15 18L9 12L15 6\" stroke=\"#333\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                </svg>\r\n              </button>\r\n              <div className=\"companies-viewport\">\r\n                <div\r\n                  className={`companies-inner ${!isCompanyTransitioning ? 'no-transition' : ''}`}\r\n                  style={{ transform: `translateX(-${currentCompanySlide * SLIDE_WIDTH}px)` }}\r\n                >\r\n                  {extendedCompanies.map((company, index) => (\r\n                    <div key={`${company.name}-${index}`} className=\"company-slide\">\r\n                      <img\r\n                        src={company.logo}\r\n                        alt={company.name}\r\n                        className=\"company-logo\"\r\n                      />\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              <button className=\"companies-nav next\" onClick={goToNextCompanySlide}>\r\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M9 18L15 12L9 6\" stroke=\"#333\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"recommended-products\">\r\n          <div className=\"recommended-header\">Рекомендації</div>\r\n          <div className=\"recommended-wrapper\">\r\n            <div\r\n              className={`recommended-inner ${!isProductTransitioning ? 'no-transition' : ''}`}\r\n              style={{ transform: `translateX(-${currentProductSlide * 100}%)` }}\r\n            >\r\n              {extendedProducts.map((product, index) => (\r\n                <div key={index} className=\"recommended-slide\">\r\n                  <Link to={`/product/${product.id}`}>\r\n                    <img\r\n                      src={product.images[0] || '/img/placeholder.webp'}\r\n                      alt={product.name}\r\n                      className=\"recommended-image\"\r\n                      onError={(e) => {\r\n                        console.log(`Помилка завантаження зображення: ${product.images[0]}`);\r\n                        e.target.src = '/img/placeholder.webp';\r\n                      }}\r\n                    />\r\n                  </Link>\r\n                  <div className=\"recommended-details\">\r\n                    <Link to={`/product/${product.id}`} className=\"recommended-link\">\r\n                      <h3 className=\"recommended-name\">{product.name}</h3>\r\n                    </Link>\r\n                    <div className=\"recommended-rating\">\r\n                      {renderStars(product.rating || 0)}\r\n                      <span className=\"recommended-reviews\">({product.views || 0})</span>\r\n                    </div>\r\n                    <div className=\"recommended-pricing\">\r\n                      <span className=\"recommended-original-price\">{getProductPrice(product.store_prices)} грн</span>\r\n                    </div>\r\n                    <Link to={`/product/${product.id}`}>\r\n                      <button className=\"recommended-add-to-cart\">\r\n                        Переглянути товар\r\n                      </button>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"recommended-dots\">\r\n            {recommendedProducts.map((_, index) => (\r\n              <span\r\n                key={index}\r\n                className={`dot ${index === currentProductSlide % totalProductSlides ? 'active' : ''}`}\r\n                onClick={() => goToProductSlide(index)}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CategoryList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}