{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pushy\\\\Desktop\\\\Work\\\\ek\\\\price-ua\\\\cosmetick-frontend\\\\src\\\\components\\\\Wishlist.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport './Wishlist.css';\nimport './ProductList.css'; // Import ProductList.css for shared styles\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Wishlist() {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [savedProductIds, setSavedProductIds] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [productError, setProductError] = useState(null);\n  const [categoryError, setCategoryError] = useState(null);\n  const [categories, setCategories] = useState([]);\n  const [newCategoryName, setNewCategoryName] = useState('');\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingCategoryId, setEditingCategoryId] = useState(null);\n  const [editedCategoryName, setEditedCategoryName] = useState('');\n  const navigate = useNavigate();\n\n  // Function to format product name consistently with ProductList\n  const getProductName = product => {\n    return `${product.name} (${product.volume || 'Об’єм не вказано'})`;\n  };\n\n  // Function to get minimum price from store_prices\n  const getMinPrice = storePrices => {\n    if (!storePrices || storePrices.length === 0) return 'Немає в наявності';\n    return `${Math.min(...storePrices.map(sp => sp.price))} грн`;\n  };\n\n  // Fetch wishlist and categories\n  useEffect(() => {\n    const fetchWishlistAndCategories = async () => {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        navigate('/login');\n        return;\n      }\n      setIsLoading(true);\n\n      // Fetch saved products\n      try {\n        const savedResponse = await axios.get('https://price-ua-react-backend.onrender.com/saved-products', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const savedIds = savedResponse.data.savedProductIds || [];\n        setSavedProductIds(savedIds);\n        if (savedIds.length === 0) {\n          setProducts([]);\n        } else {\n          const productPromises = savedIds.map(id => axios.get(`https://price-ua-react-backend.onrender.com/products/${id}`));\n          const productResponses = await Promise.all(productPromises);\n          const fetchedProducts = productResponses.map(response => response.data);\n          setProducts(fetchedProducts);\n        }\n      } catch (err) {\n        var _err$response, _err$response2;\n        console.error('Error fetching wishlist:', err);\n        setProductError('Не вдалося завантажити список бажаного');\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401 || ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : _err$response2.status) === 403) {\n          navigate('/login');\n        }\n      }\n\n      // Fetch categories\n      try {\n        const categoriesResponse = await axios.get('https://price-ua-react-backend.onrender.com/categories', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setCategories(categoriesResponse.data || []);\n      } catch (err) {\n        var _err$response3, _err$response4;\n        console.error('Error fetching categories:', err);\n        setCategoryError('Не вдалося завантажити категорії');\n        if (((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : _err$response3.status) === 401 || ((_err$response4 = err.response) === null || _err$response4 === void 0 ? void 0 : _err$response4.status) === 403) {\n          navigate('/login');\n        }\n      }\n      setIsLoading(false);\n    };\n    fetchWishlistAndCategories();\n  }, [navigate]);\n\n  // Toggle saved product\n  const toggleSavedProduct = async productId => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n    try {\n      await axios.delete(`https://price-ua-react-backend.onrender.com/saved-products/${productId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setSavedProductIds(savedProductIds.filter(id => id !== productId));\n      setProducts(products.filter(product => product.id !== productId));\n    } catch (err) {\n      console.error('Error removing product from wishlist:', err);\n      setProductError('Не вдалося видалити товар із бажаного');\n    }\n  };\n\n  // Handle category creation\n  const handleAddCategory = async () => {\n    const token = localStorage.getItem('token');\n    if (!token || !newCategoryName.trim()) {\n      setCategoryError('Введіть назву категорії');\n      return;\n    }\n    try {\n      const response = await axios.post('https://price-ua-react-backend.onrender.com/categories', {\n        name: newCategoryName.trim()\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setCategories([...categories, response.data]);\n      setNewCategoryName('');\n      setIsModalOpen(false);\n      setCategoryError(null);\n    } catch (err) {\n      console.error('Error adding category:', err);\n      setCategoryError('Не вдалося додати категорію');\n    }\n  };\n\n  // Handle start editing category\n  const startEditingCategory = category => {\n    setEditingCategoryId(category.id);\n    setEditedCategoryName(category.name);\n  };\n\n  // Handle category name update\n  const handleUpdateCategory = async categoryId => {\n    const token = localStorage.getItem('token');\n    if (!token || !editedCategoryName.trim()) {\n      setCategoryError('Введіть назву категорії');\n      return;\n    }\n    const originalCategories = [...categories];\n    const updatedCategories = categories.map(cat => cat.id === categoryId ? {\n      ...cat,\n      name: editedCategoryName.trim()\n    } : cat);\n    setCategories(updatedCategories);\n    setEditingCategoryId(null);\n    setEditedCategoryName('');\n    setCategoryError(null);\n    try {\n      await axios.put(`https://price-ua-react-backend.onrender.com/categories/${categoryId}`, {\n        name: editedCategoryName.trim()\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n    } catch (err) {\n      console.error('Error updating category:', err);\n      setCategoryError('Не вдалося оновити категорію');\n      setCategories(originalCategories); // Revert on failure\n    }\n  };\n\n  // Handle modal open/close\n  const openModal = () => setIsModalOpen(true);\n  const closeModal = () => {\n    setNewCategoryName('');\n    setIsModalOpen(false);\n    setCategoryError(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wishlist\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wishlist-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u041C\\u0456\\u0439 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A \\u0431\\u0430\\u0436\\u0430\\u043D\\u043E\\u0433\\u043E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-category-btn\",\n        onClick: openModal,\n        children: \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0456\\u044E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0417\\u0430\\u0432\\u0430\\u043D\\u0442\\u0430\\u0436\\u0435\\u043D\\u043D\\u044F...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }, this), productError && !products.length && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wishlist-error\",\n      children: productError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 44\n    }, this), categoryError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wishlist-error\",\n      children: categoryError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 25\n    }, this), !isLoading && products.length === 0 && !productError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wishlist-empty\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u0412\\u0430\\u0448 \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A \\u0431\\u0430\\u0436\\u0430\\u043D\\u043E\\u0433\\u043E \\u043F\\u043E\\u0440\\u043E\\u0436\\u043D\\u0456\\u0439\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0414\\u043E\\u0434\\u0430\\u0439\\u0442\\u0435 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0438 \\u0434\\u043E \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443 \\u0431\\u0430\\u0436\\u0430\\u043D\\u043E\\u0433\\u043E, \\u0449\\u043E\\u0431 \\u043F\\u043E\\u0431\\u0430\\u0447\\u0438\\u0442\\u0438 \\u0457\\u0445 \\u0442\\u0443\\u0442.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this), !isLoading && products.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wishlist-products products-list loaded\",\n      children: products.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card-container\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/product/${product.id}`,\n          className: \"product-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: getProductName(product)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.images && product.images.length > 0 ? product.images[0] : '/img/placeholder.webp',\n            alt: product.name,\n            onError: e => e.target.src = '/img/placeholder.webp'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price\",\n            children: getMinPrice(product.store_prices)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: product.description || 'Опис відсутній'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `heart-icon ${savedProductIds.includes(product.id) ? 'saved' : ''}`,\n          onClick: () => toggleSavedProduct(product.id),\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"24\",\n            height: \"24\",\n            viewBox: \"0 0 24 24\",\n            fill: savedProductIds.includes(product.id) ? '#d32f2f' : 'none',\n            stroke: \"#d32f2f\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }, this)]\n      }, `${product.id}-${index}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 9\n    }, this), !isLoading && categories.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"category-sections\",\n      children: categories.map(category => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-header\",\n          children: [editingCategoryId === category.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: editedCategoryName,\n              onChange: e => setEditedCategoryName(e.target.value),\n              className: \"category-edit-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"confirm-edit-btn\",\n              onClick: () => handleUpdateCategory(category.id),\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                width: \"20\",\n                height: \"20\",\n                viewBox: \"0 0 24 24\",\n                fill: \"none\",\n                stroke: \"#008000\",\n                strokeWidth: \"2\",\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  d: \"M20 6L9 17l-5-5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: category.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"edit-category-btn\",\n            onClick: () => startEditingCategory(category),\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"20\",\n              height: \"20\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"#333\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"polygon\", {\n                points: \"18 2 22 6 12 16 8 16 8 12 18 2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041D\\u0435\\u043C\\u0430\\u0454 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0456\\u0432 \\u0443 \\u0446\\u0456\\u0439 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0456\\u0457\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 15\n        }, this)]\n      }, category.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"category-name\",\n          children: \"\\u041D\\u0430\\u0437\\u0432\\u0430 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0456\\u0457:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"category-name\",\n          type: \"text\",\n          value: newCategoryName,\n          onChange: e => setNewCategoryName(e.target.value),\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0456\\u0442\\u044C \\u043D\\u0430\\u0437\\u0432\\u0443 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0456\\u0457\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }, this), categoryError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-error\",\n          children: categoryError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-btn\",\n            onClick: handleAddCategory,\n            children: \"\\u0414\\u043E\\u0434\\u0430\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"cancel-btn\",\n            onClick: closeModal,\n            children: \"\\u0421\\u043A\\u0430\\u0441\\u0443\\u0432\\u0430\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 179,\n    columnNumber: 5\n  }, this);\n}\n_s(Wishlist, \"idhuONwSQ/NRJhU7BZ35by/x7ho=\", false, function () {\n  return [useNavigate];\n});\n_c = Wishlist;\nexport default Wishlist;\nvar _c;\n$RefreshReg$(_c, \"Wishlist\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Link","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Wishlist","_s","products","setProducts","savedProductIds","setSavedProductIds","isLoading","setIsLoading","productError","setProductError","categoryError","setCategoryError","categories","setCategories","newCategoryName","setNewCategoryName","isModalOpen","setIsModalOpen","editingCategoryId","setEditingCategoryId","editedCategoryName","setEditedCategoryName","navigate","getProductName","product","name","volume","getMinPrice","storePrices","length","Math","min","map","sp","price","fetchWishlistAndCategories","token","localStorage","getItem","savedResponse","get","headers","Authorization","savedIds","data","productPromises","id","productResponses","Promise","all","fetchedProducts","response","err","_err$response","_err$response2","console","error","status","categoriesResponse","_err$response3","_err$response4","toggleSavedProduct","productId","delete","filter","handleAddCategory","trim","post","startEditingCategory","category","handleUpdateCategory","categoryId","originalCategories","updatedCategories","cat","put","openModal","closeModal","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","index","to","src","images","alt","onError","e","target","store_prices","description","includes","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","type","value","onChange","points","htmlFor","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/pushy/Desktop/Work/ek/price-ua/cosmetick-frontend/src/components/Wishlist.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Wishlist.css';\r\nimport './ProductList.css'; // Import ProductList.css for shared styles\r\n\r\nfunction Wishlist() {\r\n  const [products, setProducts] = useState([]);\r\n  const [savedProductIds, setSavedProductIds] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [productError, setProductError] = useState(null);\r\n  const [categoryError, setCategoryError] = useState(null);\r\n  const [categories, setCategories] = useState([]);\r\n  const [newCategoryName, setNewCategoryName] = useState('');\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [editingCategoryId, setEditingCategoryId] = useState(null);\r\n  const [editedCategoryName, setEditedCategoryName] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  // Function to format product name consistently with ProductList\r\n  const getProductName = (product) => {\r\n    return `${product.name} (${product.volume || 'Об’єм не вказано'})`;\r\n  };\r\n\r\n  // Function to get minimum price from store_prices\r\n  const getMinPrice = (storePrices) => {\r\n    if (!storePrices || storePrices.length === 0) return 'Немає в наявності';\r\n    return `${Math.min(...storePrices.map(sp => sp.price))} грн`;\r\n  };\r\n\r\n  // Fetch wishlist and categories\r\n  useEffect(() => {\r\n    const fetchWishlistAndCategories = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        navigate('/login');\r\n        return;\r\n      }\r\n\r\n      setIsLoading(true);\r\n\r\n      // Fetch saved products\r\n      try {\r\n        const savedResponse = await axios.get(\r\n          'https://price-ua-react-backend.onrender.com/saved-products',\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n        const savedIds = savedResponse.data.savedProductIds || [];\r\n        setSavedProductIds(savedIds);\r\n\r\n        if (savedIds.length === 0) {\r\n          setProducts([]);\r\n        } else {\r\n          const productPromises = savedIds.map((id) =>\r\n            axios.get(`https://price-ua-react-backend.onrender.com/products/${id}`)\r\n          );\r\n          const productResponses = await Promise.all(productPromises);\r\n          const fetchedProducts = productResponses.map((response) => response.data);\r\n          setProducts(fetchedProducts);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching wishlist:', err);\r\n        setProductError('Не вдалося завантажити список бажаного');\r\n        if (err.response?.status === 401 || err.response?.status === 403) {\r\n          navigate('/login');\r\n        }\r\n      }\r\n\r\n      // Fetch categories\r\n      try {\r\n        const categoriesResponse = await axios.get(\r\n          'https://price-ua-react-backend.onrender.com/categories',\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n        setCategories(categoriesResponse.data || []);\r\n      } catch (err) {\r\n        console.error('Error fetching categories:', err);\r\n        setCategoryError('Не вдалося завантажити категорії');\r\n        if (err.response?.status === 401 || err.response?.status === 403) {\r\n          navigate('/login');\r\n        }\r\n      }\r\n\r\n      setIsLoading(false);\r\n    };\r\n\r\n    fetchWishlistAndCategories();\r\n  }, [navigate]);\r\n\r\n  // Toggle saved product\r\n  const toggleSavedProduct = async (productId) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.delete(`https://price-ua-react-backend.onrender.com/saved-products/${productId}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      setSavedProductIds(savedProductIds.filter((id) => id !== productId));\r\n      setProducts(products.filter((product) => product.id !== productId));\r\n    } catch (err) {\r\n      console.error('Error removing product from wishlist:', err);\r\n      setProductError('Не вдалося видалити товар із бажаного');\r\n    }\r\n  };\r\n\r\n  // Handle category creation\r\n  const handleAddCategory = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token || !newCategoryName.trim()) {\r\n      setCategoryError('Введіть назву категорії');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        'https://price-ua-react-backend.onrender.com/categories',\r\n        { name: newCategoryName.trim() },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      setCategories([...categories, response.data]);\r\n      setNewCategoryName('');\r\n      setIsModalOpen(false);\r\n      setCategoryError(null);\r\n    } catch (err) {\r\n      console.error('Error adding category:', err);\r\n      setCategoryError('Не вдалося додати категорію');\r\n    }\r\n  };\r\n\r\n  // Handle start editing category\r\n  const startEditingCategory = (category) => {\r\n    setEditingCategoryId(category.id);\r\n    setEditedCategoryName(category.name);\r\n  };\r\n\r\n  // Handle category name update\r\n  const handleUpdateCategory = async (categoryId) => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token || !editedCategoryName.trim()) {\r\n      setCategoryError('Введіть назву категорії');\r\n      return;\r\n    }\r\n\r\n    const originalCategories = [...categories];\r\n    const updatedCategories = categories.map((cat) =>\r\n      cat.id === categoryId ? { ...cat, name: editedCategoryName.trim() } : cat\r\n    );\r\n    setCategories(updatedCategories);\r\n    setEditingCategoryId(null);\r\n    setEditedCategoryName('');\r\n    setCategoryError(null);\r\n\r\n    try {\r\n      await axios.put(\r\n        `https://price-ua-react-backend.onrender.com/categories/${categoryId}`,\r\n        { name: editedCategoryName.trim() },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n    } catch (err) {\r\n      console.error('Error updating category:', err);\r\n      setCategoryError('Не вдалося оновити категорію');\r\n      setCategories(originalCategories); // Revert on failure\r\n    }\r\n  };\r\n\r\n  // Handle modal open/close\r\n  const openModal = () => setIsModalOpen(true);\r\n  const closeModal = () => {\r\n    setNewCategoryName('');\r\n    setIsModalOpen(false);\r\n    setCategoryError(null);\r\n  };\r\n\r\n  return (\r\n    <div className=\"wishlist\">\r\n      <div className=\"wishlist-header\">\r\n        <h2>Мій список бажаного</h2>\r\n        <button className=\"add-category-btn\" onClick={openModal}>\r\n          Додати категорію\r\n        </button>\r\n      </div>\r\n      {isLoading && (\r\n        <div className=\"loading-overlay\">\r\n          <div className=\"spinner-container\">\r\n            <div className=\"spinner\"></div>\r\n            <p>Завантаження...</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {productError && !products.length && <div className=\"wishlist-error\">{productError}</div>}\r\n      {categoryError && <div className=\"wishlist-error\">{categoryError}</div>}\r\n      {!isLoading && products.length === 0 && !productError && (\r\n        <div className=\"wishlist-empty\">\r\n          <h2>Ваш список бажаного порожній</h2>\r\n          <p>Додайте товари до списку бажаного, щоб побачити їх тут.</p>\r\n        </div>\r\n      )}\r\n      {!isLoading && products.length > 0 && (\r\n        <div className=\"wishlist-products products-list loaded\">\r\n          {products.map((product, index) => (\r\n            <div key={`${product.id}-${index}`} className=\"product-card-container\">\r\n              <Link to={`/product/${product.id}`} className=\"product-card\">\r\n                <h3>{getProductName(product)}</h3>\r\n                <img\r\n                  src={product.images && product.images.length > 0 ? product.images[0] : '/img/placeholder.webp'}\r\n                  alt={product.name}\r\n                  onError={(e) => (e.target.src = '/img/placeholder.webp')}\r\n                />\r\n                <p className=\"price\">{getMinPrice(product.store_prices)}</p>\r\n                <p>{product.description || 'Опис відсутній'}</p>\r\n              </Link>\r\n              <div\r\n                className={`heart-icon ${savedProductIds.includes(product.id) ? 'saved' : ''}`}\r\n                onClick={() => toggleSavedProduct(product.id)}\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"24\"\r\n                  height=\"24\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill={savedProductIds.includes(product.id) ? '#d32f2f' : 'none'}\r\n                  stroke=\"#d32f2f\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                >\r\n                  <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      {!isLoading && categories.length > 0 && (\r\n        <div className=\"category-sections\">\r\n          {categories.map((category) => (\r\n            <div key={category.id} className=\"category-section\">\r\n              <div className=\"category-header\">\r\n                {editingCategoryId === category.id ? (\r\n                  <>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editedCategoryName}\r\n                      onChange={(e) => setEditedCategoryName(e.target.value)}\r\n                      className=\"category-edit-input\"\r\n                    />\r\n                    <button\r\n                      className=\"confirm-edit-btn\"\r\n                      onClick={() => handleUpdateCategory(category.id)}\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        width=\"20\"\r\n                        height=\"20\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill=\"none\"\r\n                        stroke=\"#008000\"\r\n                        strokeWidth=\"2\"\r\n                        strokeLinecap=\"round\"\r\n                        strokeLinejoin=\"round\"\r\n                      >\r\n                        <path d=\"M20 6L9 17l-5-5\"></path>\r\n                      </svg>\r\n                    </button>\r\n                  </>\r\n                ) : (\r\n                  <h3>{category.name}</h3>\r\n                )}\r\n                <button\r\n                  className=\"edit-category-btn\"\r\n                  onClick={() => startEditingCategory(category)}\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"20\"\r\n                    height=\"20\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"none\"\r\n                    stroke=\"#333\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  >\r\n                    <path d=\"M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34\"></path>\r\n                    <polygon points=\"18 2 22 6 12 16 8 16 8 12 18 2\"></polygon>\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n              <p>Немає товарів у цій категорії</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      {isModalOpen && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal\">\r\n            <label htmlFor=\"category-name\">Назва категорії:</label>\r\n            <input\r\n              id=\"category-name\"\r\n              type=\"text\"\r\n              value={newCategoryName}\r\n              onChange={(e) => setNewCategoryName(e.target.value)}\r\n              placeholder=\"Введіть назву категорії\"\r\n            />\r\n            {categoryError && <div className=\"modal-error\">{categoryError}</div>}\r\n            <div className=\"modal-buttons\">\r\n              <button className=\"add-btn\" onClick={handleAddCategory}>Додати</button>\r\n              <button className=\"cancel-btn\" onClick={closeModal}>Скасувати</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Wishlist;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}