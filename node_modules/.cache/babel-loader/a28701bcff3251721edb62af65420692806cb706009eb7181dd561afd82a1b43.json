{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{Link}from'react-router-dom';import'./SearchResults.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export const categoryNames={shampoos:'Шампуні',facecream:'Креми для обличчя',facemask:'Маски для обличчя',tonal:'Тональні засоби',powder:'Пудри',blush:'Рум’яна',highlighter:'Хайлайтери',concealer:'Консилери',lipstick:'Помади',lipgloss:'Блиски для губ',lipliner:'Олівці для губ',eyeshadow:'Тіні для повік',eyeliner:'Підводки',mascara:'Туші для вій',browpencil:'Олівці для брів',browshadow:'Тіні для брів',browgel:'Гелі для брів',nailpolish:'Лаки для нігтів',makeupremover:'Засоби для зняття макіяжу',brushes:'Пензлі для макіяжу',serum:'Сироватки',scrub:'Скраби',cleanser:'Очищувальні засоби',tonic:'Тоніки',micellar:'Міцелярна вода',eyecream:'Креми для очей',lipbalm:'Бальзами для губ',antiaging:'Антивікові засоби',sunscreen:'Сонцезахисні засоби',conditioner:'Кондиціонери',hairmask:'Маски для волосся',hairoil:'Олії для волосся',hairserum:'Сироватки для волосся',hairspray:'Лаки для волосся',hairdye:'Фарби для волосся',styling:'Засоби для укладки',dryshampoo:'Сухі шампуні',hairloss:'Засоби проти випадіння волосся'};function SearchResults(_ref){let{results,searchQuery,onClose}=_ref;const resultsRef=useRef(null);// Закриття при кліку поза компонентом\nuseEffect(()=>{const handleClickOutside=event=>{if(resultsRef.current&&!resultsRef.current.contains(event.target)){onClose();}};document.addEventListener('mousedown',handleClickOutside);return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[onClose]);return/*#__PURE__*/_jsxs(\"div\",{className:\"search-results\",ref:resultsRef,children:[results.slice(0,2).map((category,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"search-category\",children:[/*#__PURE__*/_jsxs(Link,{to:`/category/${category.category}?search=${encodeURIComponent(searchQuery)}`,className:\"category-title\",onClick:onClose,children:[categoryNames[category.category]||category.category,\" (\",category.count,\")\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"product-list\",children:category.products.slice(0,5).map(product=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/product/${product.id}`,className:\"product-link\",onClick:onClose,children:`${product.name} (${product.specs.volume||'Н/Д'})`})},product.id))}),category.products.length>5&&/*#__PURE__*/_jsxs(Link,{to:`/category/${category.category}?search=${encodeURIComponent(searchQuery)}`,className:\"more-products\",onClick:onClose,children:[\"\\u041F\\u043E\\u0434\\u0438\\u0432\\u0438\\u0442\\u0438\\u0441\\u044C \\u0456\\u043D\\u0448\\u0456 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0438 (\",category.products.length-5,\")\"]})]},index)),results.length>2&&/*#__PURE__*/_jsxs(Link,{to:`/search?query=${encodeURIComponent(searchQuery)}`,className:\"view-all\",onClick:()=>{onClose();// Ensure search term is fresh by resetting it\n// This will force ProductList to use the query parameter\n},children:[\"\\u041F\\u0435\\u0440\\u0435\\u0433\\u043B\\u044F\\u043D\\u0443\\u0442\\u0438 \\u0443\\u0441\\u0456 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0438 (\",results.reduce((sum,cat)=>sum+cat.count,0),\")\"]})]});}export default SearchResults;","map":{"version":3,"names":["React","useEffect","useRef","Link","jsxs","_jsxs","jsx","_jsx","categoryNames","shampoos","facecream","facemask","tonal","powder","blush","highlighter","concealer","lipstick","lipgloss","lipliner","eyeshadow","eyeliner","mascara","browpencil","browshadow","browgel","nailpolish","makeupremover","brushes","serum","scrub","cleanser","tonic","micellar","eyecream","lipbalm","antiaging","sunscreen","conditioner","hairmask","hairoil","hairserum","hairspray","hairdye","styling","dryshampoo","hairloss","SearchResults","_ref","results","searchQuery","onClose","resultsRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","className","ref","children","slice","map","category","index","to","encodeURIComponent","onClick","count","products","product","id","name","specs","volume","length","reduce","sum","cat"],"sources":["C:/Users/pushy/Documents/GitHub/price-ua-react/price-ua-react-frontend/src/components/SearchResults.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './SearchResults.css';\r\n\r\nexport const categoryNames = {\r\n  shampoos: 'Шампуні',\r\n  facecream: 'Креми для обличчя',\r\n  facemask: 'Маски для обличчя',\r\n  tonal: 'Тональні засоби',\r\n  powder: 'Пудри',\r\n  blush: 'Рум’яна',\r\n  highlighter: 'Хайлайтери',\r\n  concealer: 'Консилери',\r\n  lipstick: 'Помади',\r\n  lipgloss: 'Блиски для губ',\r\n  lipliner: 'Олівці для губ',\r\n  eyeshadow: 'Тіні для повік',\r\n  eyeliner: 'Підводки',\r\n  mascara: 'Туші для вій',\r\n  browpencil: 'Олівці для брів',\r\n  browshadow: 'Тіні для брів',\r\n  browgel: 'Гелі для брів',\r\n  nailpolish: 'Лаки для нігтів',\r\n  makeupremover: 'Засоби для зняття макіяжу',\r\n  brushes: 'Пензлі для макіяжу',\r\n  serum: 'Сироватки',\r\n  scrub: 'Скраби',\r\n  cleanser: 'Очищувальні засоби',\r\n  tonic: 'Тоніки',\r\n  micellar: 'Міцелярна вода',\r\n  eyecream: 'Креми для очей',\r\n  lipbalm: 'Бальзами для губ',\r\n  antiaging: 'Антивікові засоби',\r\n  sunscreen: 'Сонцезахисні засоби',\r\n  conditioner: 'Кондиціонери',\r\n  hairmask: 'Маски для волосся',\r\n  hairoil: 'Олії для волосся',\r\n  hairserum: 'Сироватки для волосся',\r\n  hairspray: 'Лаки для волосся',\r\n  hairdye: 'Фарби для волосся',\r\n  styling: 'Засоби для укладки',\r\n  dryshampoo: 'Сухі шампуні',\r\n  hairloss: 'Засоби проти випадіння волосся',\r\n};\r\n\r\nfunction SearchResults({ results, searchQuery, onClose }) {\r\n  const resultsRef = useRef(null);\r\n\r\n  // Закриття при кліку поза компонентом\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (resultsRef.current && !resultsRef.current.contains(event.target)) {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [onClose]);\r\n\r\n  return (\r\n    <div className=\"search-results\" ref={resultsRef}>\r\n      {results.slice(0, 2).map((category, index) => (\r\n        <div key={index} className=\"search-category\">\r\n          <Link\r\n            to={`/category/${category.category}?search=${encodeURIComponent(searchQuery)}`}\r\n            className=\"category-title\"\r\n            onClick={onClose}\r\n          >\r\n            {categoryNames[category.category] || category.category} ({category.count})\r\n          </Link>\r\n          <ul className=\"product-list\">\r\n            {category.products.slice(0, 5).map((product) => (\r\n              <li key={product.id}>\r\n                <Link\r\n                  to={`/product/${product.id}`}\r\n                  className=\"product-link\"\r\n                  onClick={onClose}\r\n                >\r\n                  {`${product.name} (${product.specs.volume || 'Н/Д'})`}\r\n                </Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          {category.products.length > 5 && (\r\n            <Link\r\n              to={`/category/${category.category}?search=${encodeURIComponent(searchQuery)}`}\r\n              className=\"more-products\"\r\n              onClick={onClose}\r\n            >\r\n              Подивитись інші товари ({category.products.length - 5})\r\n            </Link>\r\n          )}\r\n        </div>\r\n      ))}\r\n      {results.length > 2 && (\r\n        <Link\r\n          to={`/search?query=${encodeURIComponent(searchQuery)}`}\r\n          className=\"view-all\"\r\n          onClick={() => {\r\n            onClose();\r\n            // Ensure search term is fresh by resetting it\r\n            // This will force ProductList to use the query parameter\r\n          }}\r\n        >\r\n          Переглянути усі товари ({results.reduce((sum, cat) => sum + cat.count, 0)})\r\n        </Link>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchResults;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}