{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pushy\\\\Desktop\\\\Work\\\\ek\\\\price-ua\\\\cosmetick-frontend\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './Header.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const categoryNames = {\n  shampoos: 'Шампуні',\n  facecream: 'Креми для обличчя',\n  facemask: 'Маски для обличчя',\n  tonal: 'Тональні засоби',\n  powder: 'Пудри',\n  blush: 'Рум’яна',\n  highlighter: 'Хайлайтери',\n  concealer: 'Консилери',\n  lipstick: 'Помади',\n  lipgloss: 'Блиски для губ',\n  lipliner: 'Олівці для губ',\n  eyeshadow: 'Тіні для повік',\n  eyeliner: 'Підводки',\n  mascara: 'Туші для вій',\n  browpencil: 'Олівці для брів',\n  browshadow: 'Тіні для брів',\n  browgel: 'Гелі для брів',\n  nailpolish: 'Лаки для нігтів',\n  makeupremover: 'Засоби для зняття макіяжу',\n  brushes: 'Пензлі для макіяжу',\n  serum: 'Сироватки',\n  scrub: 'Скраби',\n  cleanser: 'Очищувальні засоби',\n  tonic: 'Тоніки',\n  micellar: 'Міцелярна вода',\n  eyecream: 'Креми для очей',\n  lipbalm: 'Бальзами для губ',\n  antiaging: 'Антивікові засоби',\n  sunscreen: 'Сонцезахисні засоби',\n  conditioner: 'Кондиціонери',\n  hairmask: 'Маски для волосся',\n  hairoil: 'Олії для волосся',\n  hairserum: 'Сироватки для волосся',\n  hairspray: 'Лаки для волосся',\n  hairdye: 'Фарби для волосся',\n  styling: 'Засоби для укладки',\n  dryshampoo: 'Сухі шампуні',\n  hairloss: 'Засоби проти випадіння волосся'\n};\nfunction Header({\n  setSearchTerm\n}) {\n  _s();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [showResults, setShowResults] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isResultsUpdated, setIsResultsUpdated] = useState(false);\n  const [isInitialOpen, setIsInitialOpen] = useState(true);\n  const [isClosing, setIsClosing] = useState(false);\n  const [showText, setShowText] = useState(false);\n  const [user, setUser] = useState(null);\n  const [showContextMenu, setShowContextMenu] = useState(false);\n  const navigate = useNavigate();\n  const searchInputRef = useRef(null);\n  const resultsRef = useRef(null);\n  const contextMenuRef = useRef(null);\n  useEffect(() => {\n    const storedUser = localStorage.getItem('user');\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n    const handleStorageChange = () => {\n      const updatedUser = localStorage.getItem('user');\n      if (updatedUser) {\n        setUser(JSON.parse(updatedUser));\n      }\n    };\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, []);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (contextMenuRef.current && !contextMenuRef.current.contains(event.target)) {\n        setShowContextMenu(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  const handleSearch = useCallback(() => {\n    console.log('handleSearch called with searchQuery:', searchQuery);\n    if (searchQuery.trim()) {\n      setSearchTerm(searchQuery);\n      navigate(`/search?query=${encodeURIComponent(searchQuery)}`);\n      setShowResults(false);\n      setIsLoading(false);\n      setIsResultsUpdated(false);\n      setIsInitialOpen(true);\n      setShowText(false);\n    }\n  }, [searchQuery, setSearchTerm, navigate]);\n  const handleInputChange = async e => {\n    const query = e.target.value;\n    setSearchQuery(query);\n    if (query.trim()) {\n      setIsLoading(true);\n      setIsResultsUpdated(false);\n      try {\n        const response = await axios.get('https://price-ua-react-backend.onrender.com/products', {\n          params: {\n            search: query\n          }\n        });\n        setSearchResults(response.data.groupedResults || []);\n        setShowResults(true);\n        setIsResultsUpdated(true);\n      } catch (error) {\n        console.error('Помилка пошуку:', error);\n        setSearchResults([]);\n        setShowResults(false);\n        setIsResultsUpdated(false);\n      } finally {\n        setIsLoading(false);\n      }\n    } else {\n      setSearchResults([]);\n      setShowResults(false);\n      setIsLoading(false);\n      setIsResultsUpdated(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n  const handleClearSearch = () => {\n    console.log('handleClearSearch called');\n    setSearchQuery('');\n    if (searchInputRef.current) {\n      console.log('Clearing input value');\n      searchInputRef.current.value = '';\n    } else {\n      console.warn('searchInputRef.current is null');\n    }\n    setSearchResults([]);\n    setShowResults(false);\n    setSearchTerm('');\n    setIsLoading(false);\n    setIsResultsUpdated(false);\n    setIsInitialOpen(true);\n    setShowText(false);\n  };\n  const handleCloseResults = () => {\n    setIsClosing(true);\n    setTimeout(() => {\n      setShowResults(false);\n      setIsClosing(false);\n      setIsInitialOpen(true);\n      setShowText(false);\n    }, 200);\n  };\n  const handleLinkClick = path => {\n    console.log('handleLinkClick called with path:', path);\n    setIsClosing(true);\n    handleClearSearch();\n    setTimeout(() => {\n      setIsClosing(false);\n      handleCloseResults();\n      navigate(path);\n    }, 200);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    setUser(null);\n    setShowContextMenu(false);\n    navigate('/');\n  };\n  const toggleContextMenu = () => {\n    setShowContextMenu(!showContextMenu);\n  };\n  useEffect(() => {\n    if (isResultsUpdated && !isLoading && searchResults.length > 0) {\n      setShowText(false);\n      const timer = setTimeout(() => {\n        setShowText(true);\n      }, 50);\n      return () => clearTimeout(timer);\n    } else {\n      setShowText(false);\n    }\n  }, [isResultsUpdated, isLoading, searchResults]);\n  useEffect(() => {\n    console.log('searchInputRef.current:', searchInputRef.current);\n    return () => {\n      setSearchResults([]);\n      setShowResults(false);\n      setIsLoading(false);\n      setIsResultsUpdated(false);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"header\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header-container\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"logo\",\n        children: \"CosmetickUA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-input-wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u041F\\u043E\\u0448\\u0443\\u043A \\u0442\\u043E\\u0432\\u0430\\u0440\\u0456\\u0432...\",\n            value: searchQuery,\n            onChange: handleInputChange,\n            onKeyPress: handleKeyPress,\n            className: \"search-input\",\n            ref: searchInputRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), searchQuery && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [isLoading && /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"loading-circle\",\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"16\",\n              height: \"16\",\n              viewBox: \"0 0 24 24\",\n              children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                cx: \"12\",\n                cy: \"12\",\n                r: \"10\",\n                fill: \"none\",\n                stroke: \"#555\",\n                strokeWidth: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                d: \"M12 2a10 10 0 0 1 10 10\",\n                fill: \"none\",\n                stroke: \"#0288d1\",\n                strokeWidth: \"4\",\n                strokeLinecap: \"round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"clear-icon\",\n              onClick: handleClearSearch,\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"16\",\n              height: \"16\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"#555\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"18\",\n                y1: \"6\",\n                x2: \"6\",\n                y2: \"18\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"6\",\n                y1: \"6\",\n                x2: \"18\",\n                y2: \"18\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSearch,\n          className: \"search-button\",\n          children: \"\\u0417\\u043D\\u0430\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), showResults && searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `search-results ${isInitialOpen ? 'initial-open' : ''} ${isClosing ? 'closing' : ''}`,\n          ref: resultsRef,\n          children: [searchResults.slice(0, 2).map((category, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"search-category\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: `category-title ${showText && !isLoading ? 'animate-text' : ''}`,\n              onClick: () => handleLinkClick(`/category/${category.category}`),\n              style: {\n                animationDelay: `${index * 0.1}s`,\n                cursor: 'pointer'\n              },\n              children: [categoryNames[category.category] || category.category, \" (\", category.count, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"product-list\",\n              children: category.products.slice(0, 5).map((product, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `product-link ${showText && !isLoading ? 'animate-text' : ''}`,\n                  onClick: () => handleLinkClick(`/product/${product.id}`),\n                  style: {\n                    animationDelay: `${index * 0.1 + idx * 0.05 + 0.2}s`,\n                    cursor: 'pointer'\n                  },\n                  children: `${product.name} (${product.specs.volume || 'Н/Д'})`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 25\n                }, this)\n              }, `${product.id}-${searchQuery}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this), category.products.length > 5 && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `more-products ${showText && !isLoading ? 'animate-text' : ''}`,\n              onClick: () => handleSearch(),\n              style: {\n                animationDelay: `${index * 0.1 + 0.45}s`,\n                cursor: 'pointer'\n              },\n              children: [\"\\u041F\\u043E\\u0434\\u0438\\u0432\\u0438\\u0442\\u0438\\u0441\\u044C \\u0456\\u043D\\u0448\\u0456 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0438 (\", category.products.length - 5, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 21\n            }, this)]\n          }, `${category.category}-${searchQuery}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this)), searchResults.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `view-all ${showText && !isLoading ? 'animate-text' : ''}`,\n            onClick: () => handleLinkClick(`/search?query=${encodeURIComponent(searchQuery)}`),\n            style: {\n              animationDelay: '0.5s',\n              cursor: 'pointer'\n            },\n            children: [\"\\u041F\\u0435\\u0440\\u0435\\u0433\\u043B\\u044F\\u043D\\u0443\\u0442\\u0438 \\u0443\\u0441\\u0456 \\u0442\\u043E\\u0432\\u0430\\u0440\\u0438 (\", searchResults.reduce((sum, cat) => sum + cat.count, 0), \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile\",\n        children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-profile\",\n          children: [user.photo ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user.photo,\n            alt: \"User Avatar\",\n            className: \"header-avatar-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"32\",\n            height: \"32\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"white\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"7\",\n              r: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: toggleContextMenu,\n            className: \"nickname\",\n            style: {\n              cursor: 'pointer'\n            },\n            children: user.nickname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this), showContextMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"context-menu\",\n            ref: contextMenuRef,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"context-menu-item\",\n              onClick: () => {\n                navigate('/account');\n                setShowContextMenu(false);\n              },\n              children: \"\\u0410\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"context-menu-item\",\n              onClick: () => {\n                navigate('/wishlist');\n                setShowContextMenu(false);\n              },\n              children: \"\\u0411\\u0430\\u0436\\u0430\\u043D\\u0435\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"context-menu-item\",\n              onClick: handleLogout,\n              children: \"\\u0412\\u0438\\u0439\\u0442\\u0438\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            width: \"32\",\n            height: \"32\",\n            viewBox: \"0 0 24 24\",\n            fill: \"none\",\n            stroke: \"white\",\n            strokeWidth: \"2\",\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\",\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: \"12\",\n              cy: \"7\",\n              r: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/login\",\n            className: \"login-link\",\n            children: \"\\u0423\\u0432\\u0456\\u0439\\u0442\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"Ts/z6CZmGHE8/fj0M/e021eBu4I=\", false, function () {\n  return [useNavigate];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","Link","useNavigate","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","categoryNames","shampoos","facecream","facemask","tonal","powder","blush","highlighter","concealer","lipstick","lipgloss","lipliner","eyeshadow","eyeliner","mascara","browpencil","browshadow","browgel","nailpolish","makeupremover","brushes","serum","scrub","cleanser","tonic","micellar","eyecream","lipbalm","antiaging","sunscreen","conditioner","hairmask","hairoil","hairserum","hairspray","hairdye","styling","dryshampoo","hairloss","Header","setSearchTerm","_s","searchQuery","setSearchQuery","searchResults","setSearchResults","showResults","setShowResults","isLoading","setIsLoading","isResultsUpdated","setIsResultsUpdated","isInitialOpen","setIsInitialOpen","isClosing","setIsClosing","showText","setShowText","user","setUser","showContextMenu","setShowContextMenu","navigate","searchInputRef","resultsRef","contextMenuRef","storedUser","localStorage","getItem","JSON","parse","handleStorageChange","updatedUser","window","addEventListener","removeEventListener","handleClickOutside","event","current","contains","target","document","handleSearch","console","log","trim","encodeURIComponent","handleInputChange","e","query","value","response","get","params","search","data","groupedResults","error","handleKeyPress","key","handleClearSearch","warn","handleCloseResults","setTimeout","handleLinkClick","path","handleLogout","removeItem","toggleContextMenu","length","timer","clearTimeout","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onKeyPress","ref","xmlns","width","height","viewBox","cx","cy","r","fill","stroke","strokeWidth","d","strokeLinecap","onClick","strokeLinejoin","x1","y1","x2","y2","slice","map","category","index","style","animationDelay","cursor","count","products","product","idx","id","name","specs","volume","reduce","sum","cat","photo","src","alt","nickname","_c","$RefreshReg$"],"sources":["C:/Users/pushy/Desktop/Work/ek/price-ua/cosmetick-frontend/src/components/Header.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './Header.css';\r\n\r\nexport const categoryNames = {\r\n  shampoos: 'Шампуні',\r\n  facecream: 'Креми для обличчя',\r\n  facemask: 'Маски для обличчя',\r\n  tonal: 'Тональні засоби',\r\n  powder: 'Пудри',\r\n  blush: 'Рум’яна',\r\n  highlighter: 'Хайлайтери',\r\n  concealer: 'Консилери',\r\n  lipstick: 'Помади',\r\n  lipgloss: 'Блиски для губ',\r\n  lipliner: 'Олівці для губ',\r\n  eyeshadow: 'Тіні для повік',\r\n  eyeliner: 'Підводки',\r\n  mascara: 'Туші для вій',\r\n  browpencil: 'Олівці для брів',\r\n  browshadow: 'Тіні для брів',\r\n  browgel: 'Гелі для брів',\r\n  nailpolish: 'Лаки для нігтів',\r\n  makeupremover: 'Засоби для зняття макіяжу',\r\n  brushes: 'Пензлі для макіяжу',\r\n  serum: 'Сироватки',\r\n  scrub: 'Скраби',\r\n  cleanser: 'Очищувальні засоби',\r\n  tonic: 'Тоніки',\r\n  micellar: 'Міцелярна вода',\r\n  eyecream: 'Креми для очей',\r\n  lipbalm: 'Бальзами для губ',\r\n  antiaging: 'Антивікові засоби',\r\n  sunscreen: 'Сонцезахисні засоби',\r\n  conditioner: 'Кондиціонери',\r\n  hairmask: 'Маски для волосся',\r\n  hairoil: 'Олії для волосся',\r\n  hairserum: 'Сироватки для волосся',\r\n  hairspray: 'Лаки для волосся',\r\n  hairdye: 'Фарби для волосся',\r\n  styling: 'Засоби для укладки',\r\n  dryshampoo: 'Сухі шампуні',\r\n  hairloss: 'Засоби проти випадіння волосся',\r\n};\r\n\r\nfunction Header({ setSearchTerm }) {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [showResults, setShowResults] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isResultsUpdated, setIsResultsUpdated] = useState(false);\r\n  const [isInitialOpen, setIsInitialOpen] = useState(true);\r\n  const [isClosing, setIsClosing] = useState(false);\r\n  const [showText, setShowText] = useState(false);\r\n  const [user, setUser] = useState(null);\r\n  const [showContextMenu, setShowContextMenu] = useState(false);\r\n  const navigate = useNavigate();\r\n  const searchInputRef = useRef(null);\r\n  const resultsRef = useRef(null);\r\n  const contextMenuRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem('user');\r\n    if (storedUser) {\r\n      setUser(JSON.parse(storedUser));\r\n    }\r\n\r\n    const handleStorageChange = () => {\r\n      const updatedUser = localStorage.getItem('user');\r\n      if (updatedUser) {\r\n        setUser(JSON.parse(updatedUser));\r\n      }\r\n    };\r\n\r\n    window.addEventListener('storage', handleStorageChange);\r\n    return () => window.removeEventListener('storage', handleStorageChange);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (contextMenuRef.current && !contextMenuRef.current.contains(event.target)) {\r\n        setShowContextMenu(false);\r\n      }\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const handleSearch = useCallback(() => {\r\n    console.log('handleSearch called with searchQuery:', searchQuery);\r\n    if (searchQuery.trim()) {\r\n      setSearchTerm(searchQuery);\r\n      navigate(`/search?query=${encodeURIComponent(searchQuery)}`);\r\n      setShowResults(false);\r\n      setIsLoading(false);\r\n      setIsResultsUpdated(false);\r\n      setIsInitialOpen(true);\r\n      setShowText(false);\r\n    }\r\n  }, [searchQuery, setSearchTerm, navigate]);\r\n\r\n  const handleInputChange = async (e) => {\r\n    const query = e.target.value;\r\n    setSearchQuery(query);\r\n\r\n    if (query.trim()) {\r\n      setIsLoading(true);\r\n      setIsResultsUpdated(false);\r\n      try {\r\n        const response = await axios.get('https://price-ua-react-backend.onrender.com/products', {\r\n          params: { search: query },\r\n        });\r\n\r\n        setSearchResults(response.data.groupedResults || []);\r\n        setShowResults(true);\r\n        setIsResultsUpdated(true);\r\n      } catch (error) {\r\n        console.error('Помилка пошуку:', error);\r\n        setSearchResults([]);\r\n        setShowResults(false);\r\n        setIsResultsUpdated(false);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    } else {\r\n      setSearchResults([]);\r\n      setShowResults(false);\r\n      setIsLoading(false);\r\n      setIsResultsUpdated(false);\r\n    }\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter') {\r\n      handleSearch();\r\n    }\r\n  };\r\n\r\n  const handleClearSearch = () => {\r\n    console.log('handleClearSearch called');\r\n    setSearchQuery('');\r\n    if (searchInputRef.current) {\r\n      console.log('Clearing input value');\r\n      searchInputRef.current.value = '';\r\n    } else {\r\n      console.warn('searchInputRef.current is null');\r\n    }\r\n    setSearchResults([]);\r\n    setShowResults(false);\r\n    setSearchTerm('');\r\n    setIsLoading(false);\r\n    setIsResultsUpdated(false);\r\n    setIsInitialOpen(true);\r\n    setShowText(false);\r\n  };\r\n\r\n  const handleCloseResults = () => {\r\n    setIsClosing(true);\r\n    setTimeout(() => {\r\n      setShowResults(false);\r\n      setIsClosing(false);\r\n      setIsInitialOpen(true);\r\n      setShowText(false);\r\n    }, 200);\r\n  };\r\n\r\n  const handleLinkClick = (path) => {\r\n    console.log('handleLinkClick called with path:', path);\r\n    setIsClosing(true);\r\n    handleClearSearch();\r\n    setTimeout(() => {\r\n      setIsClosing(false);\r\n      handleCloseResults();\r\n      navigate(path);\r\n    }, 200);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    setUser(null);\r\n    setShowContextMenu(false);\r\n    navigate('/');\r\n  };\r\n\r\n  const toggleContextMenu = () => {\r\n    setShowContextMenu(!showContextMenu);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isResultsUpdated && !isLoading && searchResults.length > 0) {\r\n      setShowText(false);\r\n      const timer = setTimeout(() => {\r\n        setShowText(true);\r\n      }, 50);\r\n      return () => clearTimeout(timer);\r\n    } else {\r\n      setShowText(false);\r\n    }\r\n  }, [isResultsUpdated, isLoading, searchResults]);\r\n\r\n  useEffect(() => {\r\n    console.log('searchInputRef.current:', searchInputRef.current);\r\n    return () => {\r\n      setSearchResults([]);\r\n      setShowResults(false);\r\n      setIsLoading(false);\r\n      setIsResultsUpdated(false);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header-container\">\r\n        <Link to=\"/\" className=\"logo\">\r\n          CosmetickUA\r\n        </Link>\r\n        <div className=\"search-container\">\r\n          <div className=\"search-input-wrapper\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Пошук товарів...\"\r\n              value={searchQuery}\r\n              onChange={handleInputChange}\r\n              onKeyPress={handleKeyPress}\r\n              className=\"search-input\"\r\n              ref={searchInputRef}\r\n            />\r\n            {searchQuery && (\r\n              <>\r\n                {isLoading && (\r\n                  <svg\r\n                    className=\"loading-circle\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    width=\"16\"\r\n                    height=\"16\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <circle cx=\"12\" cy=\"12\" r=\"10\" fill=\"none\" stroke=\"#555\" strokeWidth=\"4\" />\r\n                    <path\r\n                      d=\"M12 2a10 10 0 0 1 10 10\"\r\n                      fill=\"none\"\r\n                      stroke=\"#0288d1\"\r\n                      strokeWidth=\"4\"\r\n                      strokeLinecap=\"round\"\r\n                    />\r\n                  </svg>\r\n                )}\r\n                <svg\r\n                  className=\"clear-icon\"\r\n                  onClick={handleClearSearch}\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"16\"\r\n                  height=\"16\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  stroke=\"#555\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                >\r\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                  <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n                </svg>\r\n              </>\r\n            )}\r\n          </div>\r\n          <button onClick={handleSearch} className=\"search-button\">\r\n            Знайти\r\n          </button>\r\n          {showResults && searchResults.length > 0 && (\r\n            <div\r\n              className={`search-results ${isInitialOpen ? 'initial-open' : ''} ${isClosing ? 'closing' : ''}`}\r\n              ref={resultsRef}\r\n            >\r\n              {searchResults.slice(0, 2).map((category, index) => (\r\n                <div key={`${category.category}-${searchQuery}`} className=\"search-category\">\r\n                  <span\r\n                    className={`category-title ${showText && !isLoading ? 'animate-text' : ''}`}\r\n                    onClick={() => handleLinkClick(`/category/${category.category}`)}\r\n                    style={{ animationDelay: `${index * 0.1}s`, cursor: 'pointer' }}\r\n                  >\r\n                    {categoryNames[category.category] || category.category} ({category.count})\r\n                  </span>\r\n                  <ul className=\"product-list\">\r\n                    {category.products.slice(0, 5).map((product, idx) => (\r\n                      <li key={`${product.id}-${searchQuery}`}>\r\n                        <span\r\n                          className={`product-link ${showText && !isLoading ? 'animate-text' : ''}`}\r\n                          onClick={() => handleLinkClick(`/product/${product.id}`)}\r\n                          style={{ animationDelay: `${index * 0.1 + idx * 0.05 + 0.2}s`, cursor: 'pointer' }}\r\n                        >\r\n                          {`${product.name} (${product.specs.volume || 'Н/Д'})`}\r\n                        </span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                  {category.products.length > 5 && (\r\n                    <button\r\n                      className={`more-products ${showText && !isLoading ? 'animate-text' : ''}`}\r\n                      onClick={() => handleSearch()}\r\n                      style={{ animationDelay: `${index * 0.1 + 0.45}s`, cursor: 'pointer' }}\r\n                    >\r\n                      Подивитись інші товари ({category.products.length - 5})\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              {searchResults.length > 0 && (\r\n                <span\r\n                  className={`view-all ${showText && !isLoading ? 'animate-text' : ''}`}\r\n                  onClick={() => handleLinkClick(`/search?query=${encodeURIComponent(searchQuery)}`)}\r\n                  style={{ animationDelay: '0.5s', cursor: 'pointer' }}\r\n                >\r\n                  Переглянути усі товари ({searchResults.reduce((sum, cat) => sum + cat.count, 0)})\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"profile\">\r\n          {user ? (\r\n            <div className=\"user-profile\">\r\n              {user.photo ? (\r\n                <img src={user.photo} alt=\"User Avatar\" className=\"header-avatar-img\" />\r\n              ) : (\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"32\"\r\n                  height=\"32\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  stroke=\"white\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                >\r\n                  <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\r\n                  <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\r\n                </svg>\r\n              )}\r\n              <span onClick={toggleContextMenu} className=\"nickname\" style={{ cursor: 'pointer' }}>\r\n                {user.nickname}\r\n              </span>\r\n              {showContextMenu && (\r\n                <div className=\"context-menu\" ref={contextMenuRef}>\r\n                  <div\r\n                    className=\"context-menu-item\"\r\n                    onClick={() => {\r\n                      navigate('/account');\r\n                      setShowContextMenu(false);\r\n                    }}\r\n                  >\r\n                    Аккаунт\r\n                  </div>\r\n                  <div\r\n                    className=\"context-menu-item\"\r\n                    onClick={() => {\r\n                      navigate('/wishlist');\r\n                      setShowContextMenu(false);\r\n                    }}\r\n                  >\r\n                    Бажане\r\n                  </div>\r\n                  <div className=\"context-menu-item\" onClick={handleLogout}>\r\n                    Вийти\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"32\"\r\n                height=\"32\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"white\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n              >\r\n                <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\r\n                <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\r\n              </svg>\r\n              <Link to=\"/login\" className=\"login-link\">\r\n                Увійти\r\n              </Link>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}